/* generated by writeJava methods in Workspace */
package com.Tuuyi.TMPDataModel.generatedClasses.TMPDataModel;


//import
import com.Tuuyi.TDM.*;
//import
import com.Tuuyi.TMPDataModel.generatedClasses.TMPDataModel.Namespace.DynamicCount;
import org.apache.log4j.Logger;
import java.util.*;
import java.lang.reflect.Method;
import org.json.*;
import java.util.concurrent.ConcurrentHashMap;

public class BeliefspaceAddlMethods extends Beliefspace {

    private HashMap<String, MapReduceItem> beliefs = new HashMap<String, MapReduceItem> ();
    public MapReduceItem getMRI(String token) {
      if (beliefs.get(token) != null) {
        return beliefs.get(token);
      } else {
        MapReduceItem mri = new MapReduceItem();
        mri.setItem(token);
        DynamicCount itemCnt = namespace.getMarginalCnt(token);
        if (itemCnt != null) {
          mri.setScore(itemCnt.getMarginal());
        }else {
          mri.setScore(1.0/(Math.max(1000.0,namespace.weightedItemCountSum)+1));
        }
        beliefs.put(token,  mri);
        return mri;
      }
    }
    
    public MapReduceItem setMRI(String token, MapReduceItem mri) {
      return beliefs.put(token, mri);
    }
    
    public Collection<MapReduceItem> getKnownMRIs() {
      return beliefs.values();
    }
    
}
